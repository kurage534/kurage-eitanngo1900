<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>管理者ページ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>管理者ページ</h1>

<p>ランキングを全削除できます</p>

<input id="pass" type="password" placeholder="パスワード">
<button id="deleteBtn">ランキング削除</button>

<div id="msg"></div>

<script>
document.getElementById('deleteBtn').addEventListener('click', async () => {
  const pass = document.getElementById('pass').value.trim();
  const msg = document.getElementById('msg');

  msg.textContent = "";

  const res = await fetch("/api/admin/delete", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({ pass })
  });

  const result = await res.json();

  if (!res.ok) {
    msg.textContent = result.error || "エラー";
    msg.style.color = "red";
    return;
  }

  msg.textContent = "削除しました！";
  msg.style.color = "green";
});
</script>

</body>
</html>
